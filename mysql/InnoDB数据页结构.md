## 数据页结构
数据页代表的16KB大小的存储空间可以被划分为多个部分，不同部分有不同的功能。
![](../images/20210803171238.png)
![](../images/20210803171317.png)
## 记录在页中的存储

## 页目录(Page Diretory)
> Page Header是专门针对数据页记录的各种状态信息，比方说页里头有多少记录，有多少个槽。
记录在页中按照主键值由小到大顺序串联成一个单链表，那如果想根据主键值查找页中某条记录怎么办？
> select * from page_demo where c1 = 3;

InnoDB的目录的制作过程：
1. 将所有正常的记录（包括最大和最小记录，不包含标记为已删除的记录）划分为几个组
2. 每个组的最后一条记录的头信息中的n_owned属性表示该记录拥有多少条记录，也就是该组内共有几条记录
3. 将每个组的最后一条记录的地址偏移量单独提取出来按顺序存储到靠近页的尾部的地方，这个地方就是所谓的
Page Diretory，也就是页目录。
   页面中的这些地址偏移量被称为槽（slot），所以这个页面目录就是由槽组成的
   
所以在一个数据页中查找指定主键值的记录的过程分为两步：
1. 通过二分法确定该记录所在的槽，并找到该槽所在分组中主键值最小的那条记录
2. 通过记录的next_record属性遍历该槽所在的组中的各个记录

## File Header(文件头部)，固定38字节
File Header针对各种类型的页都通用，也就是说不同类型的页都会以File Header作为第一组部分，File Header
描述了一些针对各种页都通用的一些信息，比如这个页的编号是多少，它的上一个页、下一个页。
* FIL_PAGE_PREV和FIL_PAGE_NEXT
  FIL_PAGE_PREV和FIL_PAGE_NEXT分别代表本页的上一个和下一个页的页号。
