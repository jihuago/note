## 建立索引注意的点
* 建立索引关注的区分度，区分度越高越好。因为区分度越高，意味着重复的键值越少

## 给字符串字段添加索引
如给email字段上创建索引
```mysql

alter table table_name add index index1(email);
```

创建前缀索引
```mysql

alter table table_name add idnex index2(email(6))

```

### 前缀索引优缺点
前缀索引占用的空间更小，但额外的会增加扫描次数

### 如何确定使用多长的前缀
使用前缀索引，定义好长度，就可以做到既节省空间，又不用额外增加太多的查询成本。

* 我们可以通过统计索引上有多少个不同的值来判断要使用多长的前缀。

参考以下语句算出email列有多少个不同的值
```mysql

select count(DISTINCT email) as L from table_name;

select count(DISTINCT left(email, 4)) as L4, count(DISTINCT left(email, 5)) as L5,
count(DISTINCT left(email, 6)) as L6, count(DISTINCT left(email, 7)) as L7,
from table_name;

```

使用前缀索引很可能会损失区分度，所以你需要预先设定一个可以接受的损失比例，比如5%。然后，在返回的L4~L7中，找出
不小于L * 95%的值。

## 



