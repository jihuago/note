## 代码设计的定义

从底层上看：设计是定义系统组成并组织各组件间关系的过程。

另外一个角度看：类和对象的定义与配置。

* 系统的参与者

面向对象的系统由一系列类组成。决定系统中这些类的角色是非常重要的，而类由方法组成，所以在定义类时，必须决定哪些方法应该放在一起。

## 面向对象设计和过程式编程

* 两者的不同

两者的不同不在于：面向对象编程中包含对象。因为过程式也可以使用对象。类的出现并不鞥说明使用了面向对象设计。

* 面向对象和过程式编程的一个核心区别是如何分配职责

过程式编程表现为一系列命令和方法的连续调用。控制代码根据不同的条件执行不同的职责。这种自顶向下的控制方式导致了重复和相互依赖的代码遍布整个项目。

面向对象编程则将职责从客户端代码中移到专门的对象中，尽量减少相互依赖。

* 具体实例

为了说明以上几点，分别用面向对象和过程式代码的方式来分析一个简单的问题。假设我们要创建一个用于读写配置文件的工具。 为了重点关注代码的结构，示例中将忽略具体的功能实现。

* 过程式方式来解决这个问题

首先，用下面的格式来读写文本：

key:value

只需要两个函数：

		function readParams($sourceFile) {
			$params = array();

			//从$sourceFile中读取文本参数
			return $params;
		}

		function writeParams($params, $sourceFile) {
			//写入文本参数到$sourceFile
		}

readParams()函数的参数为源文件的名称。该函数试图打开文件，读取每一行内容并查找键/值对，然后用键/值对构建一个关联数组。最后，该函数给控制代码返回数组。

writeParams()以关联数组和指向源文件的路径作为参数，它循环遍历关联数组，将每对键/值写入文件。

下面是使用这两个函数的客户端代码：

	$file = './param.txt';
	$arr['key1'] = 'val1';
	$arr['key2'] = 'val2';

	writeParams($arr, $file);//将数组写到文件

	$output = readParams($file);//从文件读取数组


现在，我们被告知这个工具需要支持如下所示的XML格式：

	<params>
		<param>
			<key>my key</key>
			<val>my val</val>
		</param>
	</params>


如果参数文件以.xml结尾，就应该以XML模式读取参数文件。虽然这并不难调节，但可能会使我们的代码更能维护。这时，我们有两个选择：可以在控制代码检查文件扩展名。或者在读写函数中检测。采用后面哪种方法：

	
	